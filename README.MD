## [v1.0] 为了更好的开发,不得不规定一下战斗模型
1. looter的属性有【基本属性】和【战斗属性】
2. 基本属性即HP,力量,敏捷等
3. 同时每种属性还有【持续】和【临时】两种类型，其中【临时】类型的属性在回合结束时清空
4. 战斗属性即攻击力、防御力、速度、暴击率、闪避率、附加伤害、伤害减免
5. 技能分为【主动技能】和【被动技能】
6. 被动技能分为【普通被动技能】和【触发被动技能】
7. 【普通被动技能】即直接添加面板的技能，它可以永久增加角色的基本属性或者战斗属性
8. 【触发被动技能】可以在某些特定场合发动，它会造成一些影响(比如反击,减抗等)
9. 战斗时:
   1. 调用双方的【回合开始】方法
   2. 调用角色的攻击方法
   3. 角色选择技能,并选择目标
   4. 调用【被动技能生效】方法，检查自己的所有【触发被动技能】是否满足生效条件(条件可以根据上下文来决定,上下文包括攻击者和被攻击者)，如果满足则发动(增加自己的伤害,减少对方防御)
   5. 选择的技能生效(主动技能生成一个Effect),调用对方的【受到攻击接口】
   6. 对方调用【被动技能生效】方法，检查自己的所有【触发被动技能】是否满足生效条件(条件可以根据上下文来决定,上下文包括攻击者和被攻击者,伤害Effect),如果满足则发动(增加自己防御,增加自己闪避)
   7. 计算并计算伤害(根据自己的【战斗属性】对伤害值进行增减)，并输出真正Effect
   8. 对方调用【被动技能生效】方法，检查自己的所有【触发被动技能】是否满足生效条件(条件可以根据上下文来决定,上下文包括攻击者和被攻击者,真正受到的Effect),如果满足则发动(回复自己血量)
   9. 回调攻击方的【攻击结束】方法
   10. 攻击方调用【被动技能生效】方法，检查自己的所有【触发被动技能】是否满足生效条件(条件可以根据上下文来决定,上下文包括攻击者和被攻击者,真正受到的Effect),如果满足则发动(吸血什么的)
   11. 调用双方的【回合结束】方法

---

## 链接

[英雄战力表](src/main/java/com/nikfce/role/hero/README.MD)


---
## 更新日志

### [v1.1]强化型技能

- 增加强化型技能,这种技能只能对自己释放,为自己增加属性,且释放后就不调用敌方的beAttack()


### [v1.2]闪避系统

- 在受到攻击时计算自己的闪避率,如果闪避成功,则不受到任何影响,攻击者会直接结束这一次攻击


### [v1.3]暴击系统

- 攻击时会计算暴击率,如果触发暴击则本次伤害加倍
- Stage增加擂台赛和1V1,这个版本李坤具有压倒性的优势


### [v1.4]技能的初始化

- 技能接口增加了战斗前、战斗后、回合开始前、回合开始后的钩子,便于初始化和收尾
- 介绍了各英雄和英雄强度

### [v1.4.1]属性被动技能

- 增加新应用`勇哥`
- 增加新的属性被动技能: `身体棒棒`,`完美大腿`,`肌肉拉满`,可以在战斗开始时给looter直接增加属性
- 优化积分赛和1V1比赛的对战类,且战斗前会展示双方状态

### [v1.4.2]添加Recorder接口

- 添加ThreadLocalMap,用于存放当前线程使用的上下文
- 添加Recorder接口和几个实现
- BufferRecorder,把日志记录到buffer中,调用flush()可以一次拿到所有存下的记录,方便在http请求中直接返回
- ConsoleRecorder,单例,多用于本地调试

### [v1.5] 游戏初步实现:

- 添加Looter的配置文件和解析器,现在的Looter可以通过配置文件动态注册了
- 添加用户注册功能,实现多用户玩游戏
- 添加存档功能,实现用户断线重连
- 添加http接口,让用户可以通过http访问这个游戏
- 添加Scene(场景),类似于地图,可以通过配置文件动态配置
- 添加Flow(房间),类似于一波怪,可以通过配置文件动态配置
- 添加游戏玩法,用户注册后选择自己的Looter,然后进入Scene,并和Flow中的Looter战斗
- 添加游戏战斗后的奖励,可以让用户的Looter获得怪物的技能
- 添加场景的胜利条件和胜利描述
- 添加了一个可用的场景: 办公室
- 添加了几个可用的角色
- 现在所有的Looter都是通过配置文件动态配置的
- 新增debug接口,可以通过该接口让程序动态加载场景或角色


### [v1.5.1]:

- 新增用户权限识别,只有有cookie的用户才能游玩